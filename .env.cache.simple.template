# Simplified Cache Configuration Template (Preset-Based)
# âš¡ Quick setup for the new cache preset system

# ============================================================================
# Cache Configuration Preset (Choose ONE - replaces 28+ individual variables)
# ============================================================================

# Primary cache configuration preset (replaces most CACHE_* variables)
CACHE_PRESET=development

# Available options:
#   disabled       - Cache disabled, memory-only fallback (minimal resources)
#   simple         - Basic cache suitable for most use cases (balanced performance)
#   development    - Fast-feedback config for development (short TTLs, debug logging)
#   production     - High-performance config for production (long TTLs, optimized)
#   ai-development - AI-optimized development (AI features + development settings)
#   ai-production  - AI-optimized production (AI features + production performance)

# ============================================================================
# Essential Overrides (Only 3-5 variables needed!)
# ============================================================================

# Redis Connection Override (most common customization)
CACHE_REDIS_URL=redis://localhost:6379
# Alternative: Use different Redis for cache vs general app
# REDIS_URL=redis://general-redis:6379        # Rate limiting, sessions
# CACHE_REDIS_URL=redis://cache-redis:6379    # High-performance cache

# AI Features Toggle (if not included in preset)
ENABLE_AI_CACHE=true

# ============================================================================
# Advanced Customization (Optional)
# ============================================================================

# Custom configuration overrides (JSON format)
# Only use this for specific overrides not covered by presets
# CACHE_CUSTOM_CONFIG='{"memory_cache_size": 500, "compression_level": 8}'

# Security overrides for production
# CACHE_USE_TLS=true
# CACHE_USERNAME=prod_cache_user
# CACHE_PASSWORD=secure_password

# ============================================================================
# Preset Definitions (for reference - handled automatically by code)
# ============================================================================

# disabled preset:
#   Memory-only cache, no Redis connection, minimal resources

# simple preset:
#   default_ttl: 3600s (1 hour), memory_cache_size: 100, compression_level: 6
#   compression_threshold: 1000, monitoring: enabled, log_level: INFO

# development preset:
#   default_ttl: 600s (10 min), memory_cache_size: 50, compression_level: 3
#   compression_threshold: 2000, monitoring: enabled, log_level: DEBUG

# production preset:
#   default_ttl: 7200s (2 hours), memory_cache_size: 500, compression_level: 9
#   compression_threshold: 500, monitoring: enabled, log_level: INFO

# ai-development preset:
#   All development settings + AI features + text_hash_threshold: 500
#   + operation-specific TTLs + smart promotion enabled

# ai-production preset:
#   All production settings + AI features + text_hash_threshold: 1000
#   + optimized AI configurations + extended operation TTLs

# ============================================================================
# Migration from Current System
# ============================================================================

# OLD WAY (28+ environment variables):
# CACHE_REDIS_URL=redis://localhost:6379
# CACHE_DEFAULT_TTL=1800  
# CACHE_MEMORY_CACHE_SIZE=200
# CACHE_COMPRESSION_THRESHOLD=2000
# CACHE_COMPRESSION_LEVEL=4
# CACHE_TEXT_HASH_THRESHOLD=1000
# CACHE_HASH_ALGORITHM=sha256
# CACHE_MAX_TEXT_LENGTH=50000
# CACHE_ENABLE_SMART_PROMOTION=true
# CACHE_OPERATION_TTLS={"summarize": 3600, "sentiment": 1800}
# CACHE_TEXT_SIZE_TIERS={"small": 1000, "medium": 5000}
# CACHE_USE_TLS=false
# CACHE_MAX_CONNECTIONS=50
# CACHE_CONNECTION_TIMEOUT=5
# CACHE_SOCKET_TIMEOUT=5
# CACHE_MAX_BATCH_SIZE=100
# CACHE_ENABLE_MONITORING=true
# CACHE_LOG_LEVEL=INFO
# HEALTH_CHECK_CACHE_TIMEOUT_MS=3000
# ENABLE_AI_CACHE=true
# ... plus 6 more security variables

# NEW WAY (1-4 environment variables):
# CACHE_PRESET=development
# CACHE_REDIS_URL=redis://localhost:6379  
# ENABLE_AI_CACHE=true
# Optional: CACHE_CUSTOM_CONFIG='{"key": "value"}'

# ============================================================================
# Docker Compose Examples
# ============================================================================

# Development (docker-compose.dev.yml):
# environment:
#   - CACHE_PRESET=development
#   - CACHE_REDIS_URL=redis://redis:6379
#   - ENABLE_AI_CACHE=true

# Production (docker-compose.prod.yml):
# environment:
#   - CACHE_PRESET=production  
#   - CACHE_REDIS_URL=redis://cache-redis:6379
#   - ENABLE_AI_CACHE=true
#   - CACHE_USE_TLS=true