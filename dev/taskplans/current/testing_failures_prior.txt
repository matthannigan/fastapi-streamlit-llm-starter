===================================================================== short test summary info =====================================================================
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_invalid_auth_still_works - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'Invalid API key' in 'assert 200 in [401, 403]\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_no_recent_cache_data - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_response_structure_complete - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_success - AssertionError: assert 'total_operations_tracked' in {'error': 'Performance monitor not available for this cache implementation', 'status': 'degraded'}
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestConfigurationMonitoringEndpoints::test_get_usage_statistics_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_all_monitoring_endpoints_require_authentication - AssertionError: Endpoint /internal/resilience/monitoring/usage-statistics should require authentication
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_monitoring_cleanup_requires_authentication - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_monitoring_endpoints_with_invalid_auth - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'Invalid API key' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_resilience_performance_endpoints.py::TestPerformanceBenchmarkEndpoints::test_run_performance_benchmark_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_resilience_validation_endpoints.py::TestSecurityValidationEndpoints::test_all_security_endpoints_require_authentication - AssertionError: Endpoint /internal/resilience/config/validate-secure should require authentication
FAILED tests/api/internal/test_resilience_validation_endpoints.py::TestSecurityValidationEndpoints::test_security_validation_endpoint_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/v1/test_main_endpoints.py::TestAuthentication::test_auth_status_without_key - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/api/v1/test_main_endpoints.py::TestHealthEndpoint::test_health_check - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_authenticated_client_fixture - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '37e1fd3c-6eec-4f14-a820-f5c8bc06711a', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_process_with_explicit_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'a8e0f446-fcaa-417e-acbe-3edc98e10ad5', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_process_with_invalid_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'e57948cf-ecf0-40b0-a7bd-0d9c0792ac04', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchProcessEndpoint::test_batch_process_invalid_auth - assert 200 == 401
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchProcessEndpoint::test_batch_process_no_auth - assert 200 == 401
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchProcessEndpoint::test_batch_process_service_exception - assert 429 == 500
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchStatusEndpoint::test_get_batch_status_invalid_auth - assert 200 == 401
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchStatusEndpoint::test_get_batch_status_no_auth - assert 200 == 401
FAILED tests/api/v1/test_text_processing_endpoints.py::TestCacheIntegration::test_process_with_cache_hit - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '30095159-462c-40f6-a905-ec9217106c4d', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestCacheIntegration::test_process_with_cache_miss - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'ebcd9ba2-3114-484c-a313-d2fb9055ad2f', 'er...
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_cache_service_uses_settings_redis_url - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_dependency_chain_integration - AssertionError: assert <app.infrastructure.cache.memory.InMemoryCache object at 0x111362f00> is <MagicMock name='AIResponseCache()' spec='AIResponseCache' id=...
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_creates_configured_instance - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_graceful_degradation_when_redis_unavailable - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_real_integration_with_unavailable_redis - assert False
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_when_connect_raises_exception - AssertionError: Expected 'connect' to have been called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_text_processor_with_dependency_injection - AssertionError: assert <app.infrastructure.cache.memory.InMemoryCache object at 0x1114a48c0> is <MagicMock name='AIResponseCache()' spec='AIResponseCache' id=...
FAILED tests/infrastructure/monitoring/test_health_engine.py::test_check_cache_health_paths - assert <HealthStatus.UNHEALTHY: 'unhealthy'> in {<HealthStatus.DEGRADED: 'degraded'>, <HealthStatus.HEALTHY: 'healthy'>}
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_custom_config - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_external_json - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_invalid_custom_config - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/infrastructure/security/test_auth.py::TestOptionalVerifyAPIKey::test_optional_verify_api_key_with_invalid_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/infrastructure/security/test_auth.py::TestOptionalVerifyAPIKey::test_optional_verify_api_key_with_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_empty_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_with_invalid_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_with_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKeyWithMetadata::test_verify_api_key_with_metadata_includes_metadata - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKeyWithMetadata::test_verify_api_key_with_metadata_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_auth_logging - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '1e8a9ea9-1374-4100-bc0b-fcf763a403fb', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_batch_operations_with_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'dc1171d7-04b6-47fe-b041-562584f825da', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_development_mode - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '9e73572f-46dd-47e2-8dae-51c988fb617b', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_qa_operation_with_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'qa', 'request_id': '30a3d17b-a6c9-4574-900e-b90528e38347', 'error': "...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_qa_operation_without_auth - assert 422 == 401
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_with_invalid_api_key - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'ac2fff7f-cbe4-4061-95cd-de0460f8dbb7', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_with_valid_api_key - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '212f97b8-3bbb-4f12-8a19-09ee32abe2ce', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_cache_isolation_by_content - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '44cb7cac-da5c-4467-8302-6964c00ae4a0', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_concurrent_requests_isolation - AssertionError: Request 1 failed
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_different_operations_isolation - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'sentiment', 'request_id': '8302f0f5-641c-4551-836f-d52955d71c48', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_error_handling_isolation - assert 429 == 200
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_injection_attempt_isolation - assert 429 == 200
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_qa_operation_isolation - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'qa', 'request_id': '59b768df-0167-45b7-bfa2-ec7b12a725c1', 'error': "...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_sequential_requests_no_context_leakage - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'ee4daecf-9b60-405e-83a5-8c1b31a42d41', 'er...
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_processing_boundary_logging - assert 429 == 200
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_request_boundary_logging_format - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'a4ae50f5-d805-4277-bd48-879a6c638276', 'er...
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_unique_request_ids - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '2b0aef04-0a3b-4e76-80e7-f9b32dd2b721', 'er...
=============================================== 58 failed, 1429 passed, 34 skipped, 60 retried in 94.97s (0:01:34) ================================================
