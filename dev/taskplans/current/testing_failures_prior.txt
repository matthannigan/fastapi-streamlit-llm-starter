===================================================================== short test summary info =====================================================================
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_creates_configured_instance - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_dependency_chain_integration - AssertionError: assert <app.infrastructure.cache.memory.InMemoryCache object at 0x11a79f350> is <MagicMock name='AIResponseCache()' spec='AIResponseCache' id=...
FAILED tests/api/v1/test_main_endpoints.py::TestHealthEndpoint::test_health_check - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/api/v1/test_main_endpoints.py::TestAuthentication::test_auth_status_without_key - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_with_invalid_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/api/internal/test_resilience_validation_endpoints.py::TestSecurityValidationEndpoints::test_security_validation_endpoint_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_cache_isolation_by_content - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '05c5fafa-e56b-411a-97cb-a01be4a5b096', 'er...
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_cache_service_uses_settings_redis_url - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_real_integration_with_unavailable_redis - assert False
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_authenticated_client_fixture - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'f14a6de0-e024-421f-8972-7bf3bcaf22d4', 'er...
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_success - AssertionError: assert 'total_operations_tracked' in {'error': 'Performance monitor not available for this cache implementation', 'status': 'degraded'}
FAILED tests/infrastructure/security/test_auth.py::TestOptionalVerifyAPIKey::test_optional_verify_api_key_with_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/infrastructure/monitoring/test_health_engine.py::test_check_cache_health_paths - assert <HealthStatus.UNHEALTHY: 'unhealthy'> in {<HealthStatus.DEGRADED: 'degraded'>, <HealthStatus.HEALTHY: 'healthy'>}
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_injection_attempt_isolation - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '1413c68f-a30e-4e87-a626-7014535ff195', 'er...
FAILED tests/api/internal/test_resilience_performance_endpoints.py::TestPerformanceBenchmarkEndpoints::test_run_performance_benchmark_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_graceful_degradation_when_redis_unavailable - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchProcessEndpoint::test_batch_process_no_auth - assert 200 == 401
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestConfigurationMonitoringEndpoints::test_get_usage_statistics_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_invalid_auth_still_works - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'Invalid API key' in 'assert 200 in [401, 403]\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_with_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_processing_boundary_logging - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '4d3356c5-1f3c-4db8-8307-6092d87037ac', 'er...
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_external_json - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_custom_config - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_text_processor_with_dependency_injection - AssertionError: assert <app.infrastructure.cache.memory.InMemoryCache object at 0x105bd0320> is <MagicMock name='AIResponseCache()' spec='AIResponseCache' id=...
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_monitoring_cleanup_requires_authentication - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchProcessEndpoint::test_batch_process_invalid_auth - assert 200 == 401
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_response_structure_complete - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/infrastructure/security/test_auth.py::TestOptionalVerifyAPIKey::test_optional_verify_api_key_with_invalid_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_error_handling_isolation - assert 429 == 200
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_invalid_custom_config - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_when_connect_raises_exception - AssertionError: Expected 'connect' to have been called once. Called 0 times.
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_monitoring_endpoints_with_invalid_auth - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'Invalid API key' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchStatusEndpoint::test_get_batch_status_no_auth - assert 200 == 401
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_no_recent_cache_data - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_empty_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_qa_operation_isolation - assert 429 == 200
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_all_monitoring_endpoints_require_authentication - AssertionError: Endpoint /internal/resilience/monitoring/usage-statistics should require authentication
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchStatusEndpoint::test_get_batch_status_invalid_auth - assert 200 == 401
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKeyWithMetadata::test_verify_api_key_with_metadata_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/api/internal/test_resilience_validation_endpoints.py::TestSecurityValidationEndpoints::test_all_security_endpoints_require_authentication - AssertionError: Endpoint /internal/resilience/config/validate-secure should require authentication
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_different_operations_isolation - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'sentiment', 'request_id': '894c2f86-f597-491e-959a-09893262eeaa', 'er...
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestConfigurationMonitoringIntegration::test_configuration_load_monitoring_integration - assert 500 == 200
FAILED tests/api/v1/test_text_processing_endpoints.py::TestCacheIntegration::test_process_with_cache_hit - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'd466a71c-c1ad-49c0-b66d-cf9c04ba9d52', 'er...
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKeyWithMetadata::test_verify_api_key_with_metadata_includes_metadata - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_sequential_requests_no_context_leakage - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'ac38c255-3447-4f9f-b1ff-411ce6673ee4', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_process_with_invalid_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '3f6c836c-f50e-4895-8810-ec5b3d7265d5', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_development_mode - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '6c9d6a65-86f3-45b1-9b63-a3c520ef436e', 'er...
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_unique_request_ids - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '18e5b844-5d97-441f-9568-8476ae74ffbd', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestCacheIntegration::test_process_with_cache_miss - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '4c833dc3-0ccb-419e-b37a-e9209177faac', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_with_valid_api_key - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '4f0c87ff-6d55-4f5b-9cb8-1cd2bb0d89d3', 'er...
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_request_boundary_logging_format - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'de58e2e6-1c0a-4e70-ae77-08b2ae9aabf7', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestProcessEndpoint::test_process_qa_with_question - assert 429 == 200
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_auth_logging - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'b6703df1-6719-43fe-95ff-32b8160e2db4', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_concurrent_requests_isolation - AssertionError: Request 1 failed
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_with_invalid_api_key - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '9247acc4-b58e-4baa-8c6e-ed2c8ca43b83', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_batch_processing_isolation - assert 429 == 200
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_process_with_explicit_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'b6f3236b-1f32-4c90-81b9-3a18c7054a8d', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_batch_operations_with_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '22fb8cad-cab3-438d-8193-3490a0acb9f0', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_qa_operation_without_auth - assert 422 == 401
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_qa_operation_with_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'qa', 'request_id': '2e75b03d-8659-4135-976b-38152a4e68bc', 'error': "...
=============================================== 60 failed, 1427 passed, 34 skipped, 63 retried in 149.09s (0:02:29) ===============================================
