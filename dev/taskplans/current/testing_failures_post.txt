===================================================================== short test summary info =====================================================================
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_invalid_auth_still_works - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'Invalid API key' in 'assert 200 in [401, 403]\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_no_recent_cache_data - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_response_structure_complete - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/api/internal/test_monitoring_endpoints.py::TestMonitoringHealthEndpoint::test_monitoring_health_success - AssertionError: assert 'total_operations_tracked' in {'error': 'Performance monitor not available for this cache implementation', 'status': 'degraded'}
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestConfigurationMonitoringEndpoints::test_get_usage_statistics_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_all_monitoring_endpoints_require_authentication - AssertionError: Endpoint /internal/resilience/monitoring/usage-statistics should require authentication
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_monitoring_cleanup_requires_authentication - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_resilience_monitoring_endpoints.py::TestMonitoringEndpointSecurity::test_monitoring_endpoints_with_invalid_auth - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'Invalid API key' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_resilience_performance_endpoints.py::TestPerformanceBenchmarkEndpoints::test_run_performance_benchmark_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/internal/test_resilience_validation_endpoints.py::TestSecurityValidationEndpoints::test_all_security_endpoints_require_authentication - AssertionError: Endpoint /internal/resilience/config/validate-secure should require authentication
FAILED tests/api/internal/test_resilience_validation_endpoints.py::TestSecurityValidationEndpoints::test_security_validation_endpoint_unauthorized - assert ('AuthenticationError' in "<class 'AssertionError'>" or 'API key required' in 'assert 200 == 401\n +  where 200 = <Response [200 OK]>.status_code')
FAILED tests/api/v1/test_main_endpoints.py::TestAuthentication::test_auth_status_without_key - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/api/v1/test_main_endpoints.py::TestHealthEndpoint::test_health_check - AssertionError: assert 'degraded' == 'healthy'
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_authenticated_client_fixture - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'ec534abf-84bb-4abb-8b3e-0752d3ecea0f', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_process_with_explicit_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '8dc1c87a-be77-4860-bc60-cc98b59858ce', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestAuthentication::test_process_with_invalid_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '9f2e5093-4b6b-4f33-98b9-26a558a8170a', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchProcessEndpoint::test_batch_process_invalid_auth - assert 200 == 401
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchProcessEndpoint::test_batch_process_no_auth - assert 200 == 401
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchStatusEndpoint::test_get_batch_status_invalid_auth - assert 200 == 401
FAILED tests/api/v1/test_text_processing_endpoints.py::TestBatchStatusEndpoint::test_get_batch_status_no_auth - assert 200 == 401
FAILED tests/api/v1/test_text_processing_endpoints.py::TestCacheIntegration::test_process_with_cache_hit - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'c5452462-bccc-4d1d-af0b-d28a0b99e054', 'er...
FAILED tests/api/v1/test_text_processing_endpoints.py::TestCacheIntegration::test_process_with_cache_miss - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '45b0fe38-486a-4b2d-8888-2c1077a78ca0', 'er...
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_cache_service_uses_settings_redis_url - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_dependency_chain_integration - AssertionError: assert <app.infrastructure.cache.memory.InMemoryCache object at 0x115092720> is <MagicMock name='AIResponseCache()' spec='AIResponseCache' id=...
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_creates_configured_instance - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_graceful_degradation_when_redis_unavailable - AssertionError: Expected 'AIResponseCache' to be called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_real_integration_with_unavailable_redis - assert False
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_cache_service_when_connect_raises_exception - AssertionError: Expected 'connect' to have been called once. Called 0 times.
FAILED tests/core/test_dependencies.py::TestDependencyInjection::test_get_text_processor_with_dependency_injection - AssertionError: assert <app.infrastructure.cache.memory.InMemoryCache object at 0x115093260> is <MagicMock name='AIResponseCache()' spec='AIResponseCache' id=...
FAILED tests/infrastructure/monitoring/test_health_engine.py::test_check_cache_health_paths - assert <HealthStatus.UNHEALTHY: 'unhealthy'> in {<HealthStatus.DEGRADED: 'degraded'>, <HealthStatus.HEALTHY: 'healthy'>}
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_custom_config - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_external_json - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/infrastructure/resilience/test_validation_schemas.py::TestConfigValidatorIntegration::test_settings_validate_invalid_custom_config - AttributeError: 'Settings' object has no attribute 'validate_custom_config'. Did you mean: 'cache_custom_config'?
FAILED tests/infrastructure/security/test_auth.py::TestOptionalVerifyAPIKey::test_optional_verify_api_key_with_invalid_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/infrastructure/security/test_auth.py::TestOptionalVerifyAPIKey::test_optional_verify_api_key_with_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_empty_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_with_invalid_credentials - Failed: DID NOT RAISE <class 'app.core.exceptions.AuthenticationError'>
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKey::test_verify_api_key_with_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKeyWithMetadata::test_verify_api_key_with_metadata_includes_metadata - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/infrastructure/security/test_auth.py::TestVerifyAPIKeyWithMetadata::test_verify_api_key_with_metadata_valid_credentials - AssertionError: assert 'development' == 'test-valid-key'
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_auth_logging - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '41e8a058-28c8-408f-94f6-7ecec3d81cc2', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_batch_operations_with_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '7c1c1586-66be-41d0-bed3-a4960388dcaf', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_development_mode - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '31ff440d-5ecd-4d5f-b75e-cd138b56a6ac', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_qa_operation_with_auth - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'qa', 'request_id': '9bcbe4f8-1256-4f15-b918-4d381f499f1e', 'error': "...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_qa_operation_without_auth - assert 422 == 401
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_with_invalid_api_key - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '72cb3536-8383-4e30-95f9-5e916f628e17', 'er...
FAILED tests/integration/test_auth_endpoints.py::TestAuthEndpoints::test_process_endpoint_with_valid_api_key - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'ebf40cf7-c2ee-4b49-8ea7-cff45fb6c800', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_cache_isolation_by_content - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'e24ff3bb-092c-4ef4-8808-68e57f4804a0', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_concurrent_requests_isolation - AssertionError: Request 1 failed
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_different_operations_isolation - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'sentiment', 'request_id': 'cac418c9-2e32-4be2-9386-fba13bf7d1a8', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_error_handling_isolation - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '6389f0b6-382d-414f-8a87-e715df616f95', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_injection_attempt_isolation - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': '539e0e69-ef5b-4a5e-bae6-aba127748710', 'er...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_qa_operation_isolation - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'qa', 'request_id': 'd9a7f3c5-ed9e-45b5-a509-1b02f56706e3', 'error': "...
FAILED tests/integration/test_request_isolation.py::TestContextIsolation::test_sequential_requests_no_context_leakage - assert 429 == 200
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_processing_boundary_logging - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'c4e38154-a857-445a-bc4d-1335e8e123dc', 'er...
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_request_boundary_logging_format - app.core.exceptions.InfrastructureError: Failed to process text (Context: {'operation': 'summarize', 'request_id': 'd8b0eb05-976b-49da-8981-4776b6466183', 'er...
FAILED tests/integration/test_request_isolation.py::TestRequestBoundaryLogging::test_unique_request_ids - assert 429 == 200
=============================================== 57 failed, 1430 passed, 34 skipped, 60 retried in 108.00s (0:01:47) ===============================================
